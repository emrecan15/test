package com.filmonersene.website.services.concretes;

import org.springframework.stereotype.Service;

import com.filmonersene.website.dtos.request.SaveMovieRequest;
import com.filmonersene.website.dtos.response.SaveMovieResponse;
import com.filmonersene.website.entities.Movie;
import com.filmonersene.website.repositories.MovieRepository;
import com.filmonersene.website.services.abstracts.MovieService;

import lombok.AllArgsConstructor;

@Service
@AllArgsConstructor
public class MovieManager implements MovieService {
	
	private final MovieRepository movieRepository;

	@Override
	public SaveMovieResponse saveMovie(SaveMovieRequest saveMovieRequest) {
		if(movieRepository.existsByImdbId(saveMovieRequest.getImdbId()))
		{
			return new SaveMovieResponse("Bu film daha önce eklenmiş.");
		}
		Movie movie = new Movie();
		movie.setPosterUrl(saveMovieRequest.getPosterUrl());
		movie.setBackdropUrl(saveMovieRequest.getBackdropUrl());
		movie.setMovieName(saveMovieRequest.getMovieName());
		movie.setOriginalTitle(saveMovieRequest.getOriginalTitle());
		movie.setDescription(saveMovieRequest.getDescription());
		movie.setReleaseDate(saveMovieRequest.getReleaseDate());
		movie.setRuntime(saveMovieRequest.getRuntime());
		movie.setImdbId(saveMovieRequest.getImdbId());
		movie.setVoteAverage(saveMovieRequest.getVoteAverage());
		movie.setOriginalLanguage(saveMovieRequest.getOriginalLanguage());
		movie.setCountry(saveMovieRequest.getCountry());
		movie.setPopularity(saveMovieRequest.getPopularity());
		
		
		
		return null;
	}
	

}
